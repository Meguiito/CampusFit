{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vicen\\\\OneDrive\\\\Documentos\\\\Taller de Integraci\\xF3n II\\\\CampusFit\\\\client\\\\src\\\\Paginas\\\\ReservayEquipo.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom';\nimport DatePicker, { registerLocale } from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport es from 'date-fns/locale/es';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nregisterLocale('es', es);\nfunction ReservayEquipo() {\n  _s();\n  const navigate = useNavigate();\n  const obtenerProximaFechaHabil = () => {\n    const hoy = new Date();\n    const dia = hoy.getDay();\n    if (dia === 6) {\n      hoy.setDate(hoy.getDate() + 2);\n    } else if (dia === 0) {\n      hoy.setDate(hoy.getDate() + 1);\n    }\n    return hoy;\n  };\n  const calcularFechaMaxima = fechaMinima => {\n    const fechaMax = new Date(fechaMinima);\n    const mesActual = fechaMinima.getMonth();\n    const semestreActual = Math.floor(mesActual / 6) + 1;\n    if (semestreActual === 1) {\n      fechaMax.setFullYear(fechaMinima.getFullYear(), 5, 30);\n    } else {\n      fechaMax.setFullYear(fechaMinima.getFullYear(), 11, 31);\n    }\n    const dia = fechaMax.getDay();\n    if (dia === 6) {\n      // Sábado\n      fechaMax.setDate(fechaMax.getDate() - 1);\n    } else if (dia === 0) {\n      // Domingo\n      fechaMax.setDate(fechaMax.getDate() - 2);\n    }\n    return fechaMax;\n  };\n  const fechaMinima = obtenerProximaFechaHabil();\n  const fechaMaxima = calcularFechaMaxima(fechaMinima);\n  const [disp, setDis] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(fechaMinima);\n  const [time, setTime] = useState(null);\n  const [error, setError] = useState(null);\n  const [cancha, setCancha] = useState('');\n  const [canchaTipo, setCanchaTipo] = useState('');\n  const [equipo, setEquipo] = useState('');\n  const [canchasDisponibles, setCanchasDisponibles] = useState([]);\n  const [equiposDisponibles, setEquiposDisponibles] = useState([]);\n  useEffect(() => {\n    const fetchCanchasYEquipos = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('No se encontró el token de autenticación.');\n        return;\n      }\n      try {\n        const response = await fetch('http://localhost:5000/api/equipo_and_canchas', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            fecha: selectedDate.toISOString().split('T')[0],\n            hora: time\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setCanchasDisponibles(data.canchas_disponibles);\n          setEquiposDisponibles(data.equipos_disponibles);\n        } else {\n          const errorData = await response.json();\n          setError(errorData.error || 'Error al obtener los datos.');\n        }\n      } catch (error) {\n        console.error('Error de red:', error);\n        setError('Error al conectar con el servidor.');\n      }\n    };\n    if (selectedDate && time) {\n      fetchCanchasYEquipos();\n    }\n  }, [selectedDate, time]);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setError(null);\n    const token = localStorage.getItem('token');\n    const formData = {\n      fecha: selectedDate.toISOString().split('T')[0],\n      // Formato YYYY-MM-DD\n      hora: time,\n      cancha: cancha,\n      equipo: equipo\n    };\n    try {\n      const response = await fetch('http://localhost:5000/api/reservas', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(formData)\n      });\n      if (response.status === 201) {\n        alert(\"Se ha reservado con éxito\");\n        navigate(\"/TuReservacion\");\n      } else if (response.status === 409) {\n        const result = await response.json();\n        setError(result.error);\n      } else {\n        setError('Ocurrió un error al realizar la reserva.');\n      }\n    } catch (error) {\n      setError('Error al conectar con el servidor.');\n    }\n  };\n  useEffect(() => {\n    const verificarReservas = async () => {\n      setError(null);\n      const token = localStorage.getItem('token');\n      const formData = {\n        fecha: selectedDate.toISOString().split('T')[0]\n      };\n      try {\n        const response = await fetch('http://localhost:5000/api/verificar_reservas', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(formData)\n        });\n        if (response.ok) {\n          setDis(true);\n        } else if (response.status === 409) {\n          const result = await response.json();\n          setDis(false);\n          setError(result.error);\n        } else if (response.status === 410) {\n          const result = await response.json();\n          setDis(false);\n          alert(result.error);\n          navigate(\"/TuReservacion\");\n        }\n      } catch (error) {\n        setError('Error al conectar con el servidor.');\n      }\n    };\n    if (selectedDate) {\n      verificarReservas();\n    }\n  }, [selectedDate, navigate]);\n  const generarOpcionesTiempo = () => {\n    const opciones = [];\n    for (let hora = 8; hora <= 18; hora += 2) {\n      const horaFormateada = hora.toString().padStart(2, '0') + ':00';\n      opciones.push(horaFormateada);\n    }\n    return opciones;\n  };\n  const esHoraPasada = horaSeleccionada => {\n    const hoy = new Date();\n    const fechaSeleccionada = selectedDate.toDateString() === hoy.toDateString();\n    if (!fechaSeleccionada) return false;\n    const [hora, minuto] = horaSeleccionada.split(':').map(Number);\n    const ahora = new Date();\n    return hora < ahora.getHours() || hora === ahora.getHours() && minuto < ahora.getMinutes();\n  };\n  const handleCanchaChange = e => {\n    const canchaNombre = e.target.value;\n    setCancha(canchaNombre);\n    const canchaSeleccionada = canchasDisponibles.find(c => c.nombre === canchaNombre);\n    if (canchaSeleccionada) {\n      setCanchaTipo(canchaSeleccionada.tipo);\n    } else {\n      setCanchaTipo('');\n    }\n  };\n  const equiposFiltrados = canchaTipo ? equiposDisponibles.filter(equipo => equipo.tipo === canchaTipo) : equiposDisponibles;\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(FormularioContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Reserva tu Hora y Equipo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Fecha, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Selecciona el D\\xEDa:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DatePickerWrapper, {\n            children: /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: selectedDate,\n              onChange: date => setSelectedDate(date),\n              inline: true,\n              minDate: fechaMinima,\n              maxDate: fechaMaxima,\n              filterDate: date => {\n                const day = date.getDay();\n                return day !== 0 && day !== 6;\n              },\n              dateFormat: \"P\",\n              locale: \"es\",\n              required: true,\n              showMonthDropdown: false,\n              showYearDropdown: false,\n              dropdownMode: \"select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Hora, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"hora\",\n            children: \"Selecciona la Hora:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            id: \"hora\",\n            name: \"hora\",\n            value: time,\n            onChange: e => setTime(e.target.value),\n            disabled: !disp,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecciona una hora\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), generarOpcionesTiempo().map(hora => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: hora,\n              disabled: esHoraPasada(hora),\n              children: hora\n            }, hora, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Cancha, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"cancha\",\n            children: \"Selecciona la Cancha:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            id: \"cancha\",\n            name: \"cancha\",\n            value: cancha,\n            onChange: handleCanchaChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecciona una cancha\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), canchasDisponibles.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c.nombre,\n              children: c.nombre\n            }, c._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Equipo, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"equipo\",\n            children: \"Selecciona tu Equipo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            id: \"equipo\",\n            name: \"equipo\",\n            value: equipo,\n            onChange: e => setEquipo(e.target.value),\n            required: true,\n            disabled: !canchaTipo,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecciona un equipo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), equiposFiltrados.map(e => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: e.nombre,\n              children: e.nombre\n            }, e._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Reservar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorNotification, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}\n_s(ReservayEquipo, \"y3ON72SCw0uJEPmTWqkltJtCAQM=\", false, function () {\n  return [useNavigate];\n});\n_c = ReservayEquipo;\nexport default ReservayEquipo;\n\n/*---------------------------------------------------------Estilo----------------------------------------------------- */\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh; \n  background-color: #f0f2f5;\n`;\n_c2 = Wrapper;\nconst DatePickerWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .react-datepicker {\n    font-size: 1.2rem; \n    width: 100%;\n  }\n\n  .react-datepicker__header {\n    padding: 10px 0;\n    background-color: #2985ec;\n    border-bottom: none;\n  }\n\n  .react-datepicker__current-month,\n  .react-datepicker-time__header,\n  .react-datepicker-year-header {\n    font-size: 1.4rem;\n    color: #FFD700;\n  }\n\n  .react-datepicker__day-name,\n  .react-datepicker__day,\n  .react-datepicker__time-name {\n    width: calc(90% / 7); \n    height: 3rem; \n    line-height: 3rem; \n    font-size: 1.4rem;\n    text-align: center;\n  }\n\n  .react-datepicker__day-name {\n    font-weight: bold;\n    color: #FFD700;\n  }\n\n  .react-datepicker__day {\n    justify-content: center;\n    align-items: center;\n  }\n\n  .react-datepicker__day--selected,\n  .react-datepicker__day--keyboard-selected {\n    background-color: #FFD700;\n    color: #2985ec;\n  }\n\n  .react-datepicker__navigation-icon::before {\n    border-color: #FFD700;\n  }\n\n  .react-datepicker__triangle {\n    display: none;\n  }\n\n  .react-datepicker__month-container {\n    width: 100%;\n  }\n\n  .react-datepicker__navigation {\n    top: 10px;\n  }\n\n  @media (min-width: 768px) and (max-width: 1023px) {\n    .react-datepicker {\n      font-size: 1rem;\n    }\n\n    .react-datepicker__current-month,\n    .react-datepicker-time__header,\n    .react-datepicker-year-header {\n      font-size: 1.2rem;\n    }\n\n    .react-datepicker__day-name,\n    .react-datepicker__day,\n    .react-datepicker__time-name {\n      width: calc(90% / 7); \n      height: 3rem;\n      line-height: 3rem;\n      font-size: 1rem;\n    }\n  }\n\n  @media (max-width: 767px) {\n    .react-datepicker {\n      font-size: 0.9rem;\n    }\n\n    .react-datepicker__current-month,\n    .react-datepicker-time__header,\n    .react-datepicker-year-header {\n      font-size: 1rem;\n    }\n\n    .react-datepicker__day-name,\n    .react-datepicker__day,\n    .react-datepicker__time-name {\n      width: calc(90% / 7); \n      height: 2.5rem; \n      line-height: 2.5rem;\n      font-size: 0.9rem;\n    }\n\n    .react-datepicker__header {\n      padding: 8px 0;\n    }\n\n    .react-datepicker__navigation {\n      top: 8px;\n    }\n  }\n\n  @media (max-width: 479px) {\n    .react-datepicker {\n      font-size: 0.8rem;\n    }\n\n    .react-datepicker__current-month,\n    .react-datepicker-time__header,\n    .react-datepicker-year-header {\n      font-size: 1rem; \n    }\n\n    .react-datepicker__day-name,\n    .react-datepicker__day,\n    .react-datepicker__time-name {\n      width: calc(90% / 7); \n      height: 2rem; \n      line-height: 2rem; \n      font-size: 0.8rem; \n    }\n\n    .react-datepicker__header {\n      padding: 6px 0; \n    }\n\n    .react-datepicker__navigation {\n      top: 6px; \n    }\n  }\n`;\n_c3 = DatePickerWrapper;\nconst FormularioContainer = styled.div`\n  background: linear-gradient(135deg, #3498DB, #ffffff);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 40px;\n  margin: 20px;\n  border-radius: 20px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);\n  max-width: 600px;\n  width: 90%;\n\n  h2 {\n    color: white;\n    text-align: center;\n    margin-bottom: 20px;\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n    max-width: 100%;\n    width: 100%;\n    background-color: #2985ec;\n    border-radius: 15px;\n    padding: 20px;\n    color: #FFD700;\n  }\n`;\n_c4 = FormularioContainer;\nconst Fecha = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  label {\n    margin-bottom: 5px;\n    font-weight: bold;\n    color: white;\n    font-size: 1.2rem;\n  }\n`;\n_c5 = Fecha;\nconst Hora = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n\n  label {\n    margin-bottom: 5px;\n    font-weight: bold;\n    color: white;\n  }\n`;\n_c6 = Hora;\nconst Cancha = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n\n  label {\n    margin-bottom: 5px;\n    font-weight: bold;\n    color: white;\n  }\n`;\n_c7 = Cancha;\nconst Equipo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n\n  label {\n    margin-bottom: 5px;\n    font-weight: bold;\n    color: white;\n  }\n`;\n_c8 = Equipo;\nconst Label = styled.label`\n  font-weight: bold;\n`;\n_c9 = Label;\nconst Select = styled.select`\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 14px;\n  box-sizing: border-box;\n  width: 100%;\n`;\n_c10 = Select;\nconst Button = styled.button`\n  background-color: #FFD700;\n  border: none;\n  border-radius: 5px;\n  color: black;\n  padding: 10px;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  width: 100%;\n\n  &:hover {\n    background-color: #1e6bb8;\n    color: white;\n  }\n`;\n_c11 = Button;\nconst ErrorNotification = styled.div`\n  margin-top: 20px;\n  background-color: #ff6347;\n  color: white;\n  padding: 10px;\n  border-radius: 5px;\n  text-align: center;\n  width: 100%;\n  max-width: 600px; \n`;\n_c12 = ErrorNotification;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n$RefreshReg$(_c, \"ReservayEquipo\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"DatePickerWrapper\");\n$RefreshReg$(_c4, \"FormularioContainer\");\n$RefreshReg$(_c5, \"Fecha\");\n$RefreshReg$(_c6, \"Hora\");\n$RefreshReg$(_c7, \"Cancha\");\n$RefreshReg$(_c8, \"Equipo\");\n$RefreshReg$(_c9, \"Label\");\n$RefreshReg$(_c10, \"Select\");\n$RefreshReg$(_c11, \"Button\");\n$RefreshReg$(_c12, \"ErrorNotification\");","map":{"version":3,"names":["React","useState","useEffect","styled","useNavigate","DatePicker","registerLocale","es","jsxDEV","_jsxDEV","ReservayEquipo","_s","navigate","obtenerProximaFechaHabil","hoy","Date","dia","getDay","setDate","getDate","calcularFechaMaxima","fechaMinima","fechaMax","mesActual","getMonth","semestreActual","Math","floor","setFullYear","getFullYear","fechaMaxima","disp","setDis","selectedDate","setSelectedDate","time","setTime","error","setError","cancha","setCancha","canchaTipo","setCanchaTipo","equipo","setEquipo","canchasDisponibles","setCanchasDisponibles","equiposDisponibles","setEquiposDisponibles","fetchCanchasYEquipos","token","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","fecha","toISOString","split","hora","ok","data","json","canchas_disponibles","equipos_disponibles","errorData","console","handleSubmit","event","preventDefault","formData","status","alert","result","verificarReservas","generarOpcionesTiempo","opciones","horaFormateada","toString","padStart","push","esHoraPasada","horaSeleccionada","fechaSeleccionada","toDateString","minuto","map","Number","ahora","getHours","getMinutes","handleCanchaChange","e","canchaNombre","target","value","canchaSeleccionada","find","c","nombre","tipo","equiposFiltrados","filter","Wrapper","children","FormularioContainer","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Fecha","Label","DatePickerWrapper","selected","onChange","date","inline","minDate","maxDate","filterDate","day","dateFormat","locale","required","showMonthDropdown","showYearDropdown","dropdownMode","Hora","htmlFor","Select","id","name","disabled","Cancha","_id","Equipo","Button","type","ErrorNotification","_c","div","_c2","_c3","_c4","_c5","_c6","_c7","_c8","label","_c9","select","_c10","button","_c11","_c12","$RefreshReg$"],"sources":["C:/Users/vicen/OneDrive/Documentos/Taller de Integración II/CampusFit/client/src/Paginas/ReservayEquipo.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport DatePicker, { registerLocale } from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport es from 'date-fns/locale/es'; \r\nregisterLocale('es', es); \r\n\r\nfunction ReservayEquipo() {\r\n  const navigate = useNavigate(); \r\n  const obtenerProximaFechaHabil = () => {\r\n    const hoy = new Date();\r\n    const dia = hoy.getDay(); \r\n\r\n    if (dia === 6) { \r\n      hoy.setDate(hoy.getDate() + 2); \r\n    } else if (dia === 0) { \r\n      hoy.setDate(hoy.getDate() + 1); \r\n    }\r\n\r\n    return hoy;\r\n  };\r\n\r\n  const calcularFechaMaxima = (fechaMinima) => {\r\n    const fechaMax = new Date(fechaMinima);\r\n  \r\n    const mesActual = fechaMinima.getMonth();\r\n    const semestreActual = Math.floor(mesActual / 6) + 1;\r\n  \r\n    if (semestreActual === 1) {\r\n      fechaMax.setFullYear(fechaMinima.getFullYear(), 5, 30); \r\n    } else {\r\n      fechaMax.setFullYear(fechaMinima.getFullYear(), 11, 31); \r\n    }\r\n  \r\n    const dia = fechaMax.getDay();\r\n    if (dia === 6) { // Sábado\r\n      fechaMax.setDate(fechaMax.getDate() - 1); \r\n    } else if (dia === 0) { // Domingo\r\n      fechaMax.setDate(fechaMax.getDate() - 2); \r\n    }\r\n  \r\n    return fechaMax;\r\n  };\r\n  \r\n\r\n  const fechaMinima = obtenerProximaFechaHabil();\r\n  const fechaMaxima = calcularFechaMaxima(fechaMinima);\r\n\r\n  const [disp, setDis] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(fechaMinima);\r\n  const [time, setTime] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [cancha, setCancha] = useState('');\r\n  const [canchaTipo, setCanchaTipo] = useState('');\r\n  const [equipo, setEquipo] = useState('');\r\n  const [canchasDisponibles, setCanchasDisponibles] = useState([]);\r\n  const [equiposDisponibles, setEquiposDisponibles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchCanchasYEquipos = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        setError('No se encontró el token de autenticación.');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/equipo_and_canchas', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({ \r\n            fecha: selectedDate.toISOString().split('T')[0], \r\n            hora: time \r\n          }),\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setCanchasDisponibles(data.canchas_disponibles);\r\n          setEquiposDisponibles(data.equipos_disponibles);\r\n        } else {\r\n          const errorData = await response.json();\r\n          setError(errorData.error || 'Error al obtener los datos.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error de red:', error);\r\n        setError('Error al conectar con el servidor.');\r\n      }\r\n    };\r\n\r\n    if (selectedDate && time) {\r\n      fetchCanchasYEquipos();\r\n    }\r\n  }, [selectedDate, time]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setError(null);\r\n\r\n    const token = localStorage.getItem('token');\r\n    const formData = {\r\n      fecha: selectedDate.toISOString().split('T')[0], // Formato YYYY-MM-DD\r\n      hora: time,\r\n      cancha: cancha,\r\n      equipo: equipo,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/reservas', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      if (response.status === 201) {\r\n        alert(\"Se ha reservado con éxito\");\r\n        navigate(\"/TuReservacion\"); \r\n      } else if (response.status === 409) {\r\n        const result = await response.json();\r\n        setError(result.error); \r\n      } else {\r\n        setError('Ocurrió un error al realizar la reserva.');\r\n      }\r\n    } catch (error) {\r\n      setError('Error al conectar con el servidor.');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const verificarReservas = async () => {\r\n      setError(null);\r\n      const token = localStorage.getItem('token');\r\n      const formData = {\r\n        fecha: selectedDate.toISOString().split('T')[0], \r\n      };\r\n\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/verificar_reservas', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(formData),\r\n        });\r\n\r\n        if (response.ok) {\r\n          setDis(true);\r\n        } else if (response.status === 409) {\r\n          const result = await response.json();\r\n          setDis(false);\r\n          setError(result.error);\r\n        } else if (response.status === 410) {\r\n          const result = await response.json();\r\n          setDis(false);\r\n          alert(result.error);\r\n          navigate(\"/TuReservacion\"); \r\n        }\r\n\r\n      } catch (error) {\r\n        setError('Error al conectar con el servidor.');\r\n      }\r\n    };\r\n\r\n    if (selectedDate) {\r\n      verificarReservas();\r\n    }\r\n  }, [selectedDate, navigate]); \r\n\r\n  const generarOpcionesTiempo = () => {\r\n    const opciones = [];\r\n    for (let hora = 8; hora <= 18; hora += 2) {\r\n      const horaFormateada = hora.toString().padStart(2, '0') + ':00';\r\n      opciones.push(horaFormateada);\r\n    }\r\n    return opciones;\r\n  };\r\n\r\n  const esHoraPasada = (horaSeleccionada) => {\r\n    const hoy = new Date();\r\n    const fechaSeleccionada = selectedDate.toDateString() === hoy.toDateString();\r\n\r\n    if (!fechaSeleccionada) return false;\r\n\r\n    const [hora, minuto] = horaSeleccionada.split(':').map(Number);\r\n    const ahora = new Date();\r\n    return hora < ahora.getHours() || (hora === ahora.getHours() && minuto < ahora.getMinutes());\r\n  };\r\n\r\n  const handleCanchaChange = (e) => {\r\n    const canchaNombre = e.target.value;\r\n    setCancha(canchaNombre);\r\n\r\n    const canchaSeleccionada = canchasDisponibles.find(c => c.nombre === canchaNombre);\r\n    if (canchaSeleccionada) {\r\n      setCanchaTipo(canchaSeleccionada.tipo);\r\n    } else {\r\n      setCanchaTipo('');\r\n    }\r\n  };\r\n\r\n  const equiposFiltrados = canchaTipo\r\n    ? equiposDisponibles.filter(equipo => equipo.tipo === canchaTipo)\r\n    : equiposDisponibles;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <FormularioContainer>\r\n        <h2>Reserva tu Hora y Equipo</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <Fecha>\r\n            <Label>Selecciona el Día:</Label>\r\n              <DatePickerWrapper>\r\n                <DatePicker\r\n                  selected={selectedDate}\r\n                  onChange={(date) => setSelectedDate(date)}\r\n                  inline\r\n                  minDate={fechaMinima} \r\n                  maxDate={fechaMaxima} \r\n                  filterDate={(date) => {\r\n                    const day = date.getDay();\r\n                    return day !== 0 && day !== 6; \r\n                  }}\r\n                  dateFormat=\"P\" \r\n                  locale=\"es\" \r\n                  required\r\n                  showMonthDropdown={false}\r\n                  showYearDropdown={false}\r\n                  dropdownMode=\"select\"\r\n                />\r\n              </DatePickerWrapper>\r\n          </Fecha>\r\n          <Hora>\r\n            <Label htmlFor=\"hora\">Selecciona la Hora:</Label>\r\n            <Select\r\n              id=\"hora\"\r\n              name=\"hora\"\r\n              value={time}\r\n              onChange={(e) => setTime(e.target.value)}\r\n              disabled={!disp}\r\n              required\r\n            >\r\n              <option value=\"\">Selecciona una hora</option>\r\n              {generarOpcionesTiempo().map((hora) => (\r\n                <option key={hora} value={hora} disabled={esHoraPasada(hora)}>\r\n                  {hora}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </Hora>\r\n          <Cancha>\r\n            <Label htmlFor=\"cancha\">Selecciona la Cancha:</Label>\r\n            <Select\r\n              id=\"cancha\"\r\n              name=\"cancha\"\r\n              value={cancha}\r\n              onChange={handleCanchaChange}\r\n              required \r\n            >\r\n              <option value=\"\">Selecciona una cancha</option>\r\n              {canchasDisponibles.map((c) => (\r\n                <option key={c._id} value={c.nombre}>{c.nombre}</option>\r\n              ))}\r\n            </Select>\r\n          </Cancha>\r\n          <Equipo>\r\n            <Label htmlFor=\"equipo\">Selecciona tu Equipo:</Label>\r\n            <Select\r\n              id=\"equipo\"\r\n              name=\"equipo\"\r\n              value={equipo}\r\n              onChange={(e) => setEquipo(e.target.value)}\r\n              required\r\n              disabled={!canchaTipo} \r\n            >\r\n              <option value=\"\">Selecciona un equipo</option>\r\n              {equiposFiltrados.map((e) => (\r\n                <option key={e._id} value={e.nombre}>{e.nombre}</option>\r\n              ))}\r\n            </Select>\r\n          </Equipo>\r\n          <Button type=\"submit\">Reservar</Button>\r\n        </form>\r\n        {error && <ErrorNotification>{error}</ErrorNotification>}\r\n      </FormularioContainer>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default ReservayEquipo;\r\n\r\n\r\n\r\n\r\n\r\n/*---------------------------------------------------------Estilo----------------------------------------------------- */\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh; \r\n  background-color: #f0f2f5;\r\n`;\r\n\r\nconst DatePickerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .react-datepicker {\r\n    font-size: 1.2rem; \r\n    width: 100%;\r\n  }\r\n\r\n  .react-datepicker__header {\r\n    padding: 10px 0;\r\n    background-color: #2985ec;\r\n    border-bottom: none;\r\n  }\r\n\r\n  .react-datepicker__current-month,\r\n  .react-datepicker-time__header,\r\n  .react-datepicker-year-header {\r\n    font-size: 1.4rem;\r\n    color: #FFD700;\r\n  }\r\n\r\n  .react-datepicker__day-name,\r\n  .react-datepicker__day,\r\n  .react-datepicker__time-name {\r\n    width: calc(90% / 7); \r\n    height: 3rem; \r\n    line-height: 3rem; \r\n    font-size: 1.4rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .react-datepicker__day-name {\r\n    font-weight: bold;\r\n    color: #FFD700;\r\n  }\r\n\r\n  .react-datepicker__day {\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .react-datepicker__day--selected,\r\n  .react-datepicker__day--keyboard-selected {\r\n    background-color: #FFD700;\r\n    color: #2985ec;\r\n  }\r\n\r\n  .react-datepicker__navigation-icon::before {\r\n    border-color: #FFD700;\r\n  }\r\n\r\n  .react-datepicker__triangle {\r\n    display: none;\r\n  }\r\n\r\n  .react-datepicker__month-container {\r\n    width: 100%;\r\n  }\r\n\r\n  .react-datepicker__navigation {\r\n    top: 10px;\r\n  }\r\n\r\n  @media (min-width: 768px) and (max-width: 1023px) {\r\n    .react-datepicker {\r\n      font-size: 1rem;\r\n    }\r\n\r\n    .react-datepicker__current-month,\r\n    .react-datepicker-time__header,\r\n    .react-datepicker-year-header {\r\n      font-size: 1.2rem;\r\n    }\r\n\r\n    .react-datepicker__day-name,\r\n    .react-datepicker__day,\r\n    .react-datepicker__time-name {\r\n      width: calc(90% / 7); \r\n      height: 3rem;\r\n      line-height: 3rem;\r\n      font-size: 1rem;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 767px) {\r\n    .react-datepicker {\r\n      font-size: 0.9rem;\r\n    }\r\n\r\n    .react-datepicker__current-month,\r\n    .react-datepicker-time__header,\r\n    .react-datepicker-year-header {\r\n      font-size: 1rem;\r\n    }\r\n\r\n    .react-datepicker__day-name,\r\n    .react-datepicker__day,\r\n    .react-datepicker__time-name {\r\n      width: calc(90% / 7); \r\n      height: 2.5rem; \r\n      line-height: 2.5rem;\r\n      font-size: 0.9rem;\r\n    }\r\n\r\n    .react-datepicker__header {\r\n      padding: 8px 0;\r\n    }\r\n\r\n    .react-datepicker__navigation {\r\n      top: 8px;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 479px) {\r\n    .react-datepicker {\r\n      font-size: 0.8rem;\r\n    }\r\n\r\n    .react-datepicker__current-month,\r\n    .react-datepicker-time__header,\r\n    .react-datepicker-year-header {\r\n      font-size: 1rem; \r\n    }\r\n\r\n    .react-datepicker__day-name,\r\n    .react-datepicker__day,\r\n    .react-datepicker__time-name {\r\n      width: calc(90% / 7); \r\n      height: 2rem; \r\n      line-height: 2rem; \r\n      font-size: 0.8rem; \r\n    }\r\n\r\n    .react-datepicker__header {\r\n      padding: 6px 0; \r\n    }\r\n\r\n    .react-datepicker__navigation {\r\n      top: 6px; \r\n    }\r\n  }\r\n`;\r\n\r\nconst FormularioContainer = styled.div`\r\n  background: linear-gradient(135deg, #3498DB, #ffffff);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 40px;\r\n  margin: 20px;\r\n  border-radius: 20px;\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);\r\n  max-width: 600px;\r\n  width: 90%;\r\n\r\n  h2 {\r\n    color: white;\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 15px;\r\n    max-width: 100%;\r\n    width: 100%;\r\n    background-color: #2985ec;\r\n    border-radius: 15px;\r\n    padding: 20px;\r\n    color: #FFD700;\r\n  }\r\n`;\r\n\r\nconst Fecha = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n\r\n  label {\r\n    margin-bottom: 5px;\r\n    font-weight: bold;\r\n    color: white;\r\n    font-size: 1.2rem;\r\n  }\r\n`;\r\n\r\nconst Hora = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n\r\n  label {\r\n    margin-bottom: 5px;\r\n    font-weight: bold;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Cancha = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n\r\n  label {\r\n    margin-bottom: 5px;\r\n    font-weight: bold;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Equipo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n\r\n  label {\r\n    margin-bottom: 5px;\r\n    font-weight: bold;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Select = styled.select`\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background-color: #FFD700;\r\n  border: none;\r\n  border-radius: 5px;\r\n  color: black;\r\n  padding: 10px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n  width: 100%;\r\n\r\n  &:hover {\r\n    background-color: #1e6bb8;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst ErrorNotification = styled.div`\r\n  margin-top: 20px;\r\n  background-color: #ff6347;\r\n  color: white;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  width: 100%;\r\n  max-width: 600px; \r\n`;\r\n"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACE,GAAA,GA/II9B,iBAAiB;AAiJvB,MAAMR,mBAAmB,GAAG1G,MAAM,CAAC8I,GAAG;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GA7BIvC,mBAAmB;AA+BzB,MAAMM,KAAK,GAAGhH,MAAM,CAAC8I,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACI,GAAA,GAXIlC,KAAK;AAaX,MAAMiB,IAAI,GAAGjI,MAAM,CAAC8I,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GAVIlB,IAAI;AAYV,MAAMM,MAAM,GAAGvI,MAAM,CAAC8I,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACM,GAAA,GAVIb,MAAM;AAYZ,MAAME,MAAM,GAAGzI,MAAM,CAAC8I,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACO,GAAA,GAVIZ,MAAM;AAYZ,MAAMxB,KAAK,GAAGjH,MAAM,CAACsJ,KAAK;AAC1B;AACA,CAAC;AAACC,GAAA,GAFItC,KAAK;AAIX,MAAMkB,MAAM,GAAGnI,MAAM,CAACwJ,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAPItB,MAAM;AASZ,MAAMO,MAAM,GAAG1I,MAAM,CAAC0J,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAfIjB,MAAM;AAiBZ,MAAME,iBAAiB,GAAG5I,MAAM,CAAC8I,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACc,IAAA,GATIhB,iBAAiB;AAAA,IAAAC,EAAA,EAAAE,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAE,GAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAC,IAAA;AAAAC,YAAA,CAAAhB,EAAA;AAAAgB,YAAA,CAAAd,GAAA;AAAAc,YAAA,CAAAb,GAAA;AAAAa,YAAA,CAAAZ,GAAA;AAAAY,YAAA,CAAAX,GAAA;AAAAW,YAAA,CAAAV,GAAA;AAAAU,YAAA,CAAAT,GAAA;AAAAS,YAAA,CAAAR,GAAA;AAAAQ,YAAA,CAAAN,GAAA;AAAAM,YAAA,CAAAJ,IAAA;AAAAI,YAAA,CAAAF,IAAA;AAAAE,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}